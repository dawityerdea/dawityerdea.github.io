<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Radar Passive Microwave Front-End | Dawit Yerdea</title>

  <style>
    :root{
      --bg:#ffffff;
      --text:#111;
      --muted:#5a5a5a;
      --border:#e6e6e6;
      --card:#fff;
      --link:#0b57d0;
      --chip:#f5f7fb;
      --shadow: 0 10px 30px rgba(0,0,0,0.06);
      --radius: 16px;
    }

    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      margin:0;
      background: var(--bg);
      color: var(--text);
      line-height:1.5;
    }

    .wrap{
      max-width: 1040px;
      margin: 0 auto;
      padding: 34px 18px 60px;
    }

    a{ color: var(--link); text-decoration: none; }
    a:hover{ text-decoration: underline; }
    .toplink{ margin-bottom: 14px; display:inline-block; }

    header{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: linear-gradient(180deg, #fbfcff 0%, #ffffff 100%);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    h1{ margin: 0 0 6px 0; font-size: 2rem; letter-spacing: -0.02em; }
    .subtitle{ margin:0; color: var(--muted); }

    .chips{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 14px;
    }
    .chip{
      background: var(--chip);
      border: 1px solid var(--border);
      border-radius: 999px;
      padding: 8px 12px;
      color: #1b1b1b;
      font-size: 0.95rem;
      white-space: nowrap;
    }

    .grid2{
      display:grid;
      grid-template-columns: 1.2fr 0.8fr;
      gap: 14px;
      margin-top: 14px;
    }
    @media (max-width: 920px){
      .grid2{ grid-template-columns: 1fr; }
    }

    .card{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: var(--card);
      box-shadow: var(--shadow);
      padding: 16px;
      margin-top: 14px;
    }

    h2{ margin:0 0 10px 0; font-size: 1.25rem; letter-spacing: -0.01em; }
    h3{ margin:0 0 10px 0; font-size: 1.05rem; }

    ul{ margin: 8px 0; padding-left: 18px; }
    .muted{ color: var(--muted); }

    .pillbar{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 10px;
    }
    .pillbar a{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border: 1px solid #cfcfcf;
      border-radius: 999px;
      background: #fff;
      cursor:pointer;
      font: inherit;
      text-decoration:none;
      color: #111;
    }

    .specs{
      width:100%;
      border-collapse: collapse;
      overflow:hidden;
      border-radius: 12px;
      border: 1px solid var(--border);
    }
    .specs th, .specs td{
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      vertical-align: top;
      text-align:left;
      font-size: 0.98rem;
    }
    .specs th{
      background: #fafafa;
      width: 40%;
    }
    .specs tr:last-child td, .specs tr:last-child th{ border-bottom: none; }

    .artifactGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
      margin-top: 10px;
    }
    .artifactBox{
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 12px;
      background: #fff;
    }
    .artifactBox ul{ margin: 8px 0 0 0; padding-left: 18px; }

    /* Folder UI */
    .toggleBtn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border: 1px solid #cfcfcf;
      border-radius: 999px;
      background: #fff;
      cursor:pointer;
      font: inherit;
      color:#111;
    }
    .toggleBtn[aria-expanded="true"]{
      border-color: var(--link);
      box-shadow: 0 0 0 3px rgba(11,87,208,0.12);
    }

    details.folder{
      margin-top: 12px;
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 10px;
      background: #fff;
    }
    details.folder > summary{
      list-style: none;
      cursor: pointer;
      font-weight: 650;
      padding: 8px 10px;
      border-radius: 12px;
    }
    details.folder > summary::-webkit-details-marker{ display:none; }
    details.folder[open] > summary{
      background: #f7f9ff;
      border: 1px solid rgba(11,87,208,0.15);
    }

    /* Gallery */
    .galleryGrid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 12px;
      margin-top: 12px;
    }
    figure{
      margin:0;
      border: 1px solid var(--border);
      border-radius: 14px;
      padding: 10px;
      background:#fff;
    }
    img{ width:100%; height:auto; border-radius: 12px; display:block; }
    figcaption{ margin-top: 6px; font-size: 0.92rem; color: var(--muted); }

    /* Lightbox */
    .lightbox{
      position: fixed;
      inset:0;
      background: rgba(0,0,0,0.78);
      display:none;
      align-items:center;
      justify-content:center;
      padding: 22px;
      z-index:9999;
    }
    .lightbox.open{ display:flex; }
    .lightbox-inner{
      width: min(1120px, 100%);
      background: #0f0f10;
      border: 1px solid rgba(255,255,255,0.18);
      border-radius: 16px;
      padding: 12px;
    }
    .lightbox-top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap: 12px;
      padding: 6px 6px 10px;
      color:#f1f1f1;
      font-size: 0.95rem;
    }
    .lightbox-top a{ color:#cfe0ff; }
    .lightbox-close{
      background: transparent;
      border: 1px solid rgba(255,255,255,0.25);
      color: #f1f1f1;
      border-radius: 10px;
      padding: 8px 10px;
      cursor:pointer;
    }
    .lightbox-img{
      width:100%;
      height:auto;
      border-radius: 12px;
      display:block;
    }

    .note{
      margin-top: 10px;
      padding: 10px 12px;
      border: 1px dashed #d8d8d8;
      border-radius: 12px;
      color: var(--muted);
      background: #fafafa;
      font-size: 0.95rem;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <a class="toplink" href="../index.html">← Back to Home</a>

    <header>
      <h1>Radar Passive Microwave Front-End</h1>
      <p class="subtitle">ADS / Momentum • 2–3&nbsp;GHz microwave passive front-end (filter + couplers) • EM-driven layout iteration • build documentation</p>

      <div class="chips" aria-label="Highlights">
        <div class="chip">2–3&nbsp;GHz Chebyshev BPF</div>
        <div class="chip">0.3&nbsp;dB ripple target</div>
        <div class="chip">Momentum EM simulation</div>
        <div class="chip">LPKF milling workflow</div>
        <div class="chip">VNA evidence (photos)</div>
      </div>
    </header>

    <div class="grid2">
      <div class="card">
        <h2>Project Summary</h2>
        <p class="muted">
          End-to-end RF/microwave workflow: specification-driven design, ADS schematic + layout,
          Momentum EM analysis, fabrication on a PCB milling machine, and build documentation (including lessons learned).
        </p>
        <ul>
          <li><b>Design:</b> Chebyshev band-pass filter and coupler structures in ADS.</li>
          <li><b>EM iteration:</b> Momentum used to refine layout behavior beyond ideal models.</li>
          <li><b>Fabrication:</b> Generated manufacturable artwork and executed milling/processing steps.</li>
          <li><b>Evidence:</b> VNA screen photos + build photos.</li>
        </ul>

        <div class="pillbar" aria-label="Quick links">
          <a href="../docs/microwave/chebyshev_filter_design.pdf" target="_blank" rel="noopener">Filter design (PDF)</a>
          <a href="../docs/microwave/branchline_coupler.pdf" target="_blank" rel="noopener">Branchline coupler (PDF)</a>
          <a href="../docs/microwave/electromagnetic_analysis_and_revisions_report.pdf" target="_blank" rel="noopener">EM revisions (PDF)</a>
          <a href="../downloads/microwave/ads_workspace.zip" target="_blank" rel="noopener">ADS workspace (ZIP)</a>
        </div>
      </div>

      <div class="card">
        <h2>Design Targets</h2>
        <table class="specs" aria-label="Design targets table">
          <tr><th>Band</th><td>2.0–3.0&nbsp;GHz</td></tr>
          <tr><th>Passband ripple</th><td>0.3&nbsp;dB</td></tr>
          <tr><th>Return loss</th><td>&gt; 11&nbsp;dB</td></tr>
          <tr><th>Goal</th><td>Minimize excess loss; validate with EM + build evidence</td></tr>
        </table>
      </div>
    </div>

    <div class="card">
      <h2>Artifacts</h2>
      <div class="artifactGrid">
        <div class="artifactBox">
          <h3>Design & Analysis (PDF)</h3>
          <ul>
            <li><a href="../docs/microwave/chebyshev_filter_design.pdf" target="_blank" rel="noopener">Chebyshev Filter Design</a></li>
            <li><a href="../docs/microwave/filter_design_ads.pdf" target="_blank" rel="noopener">Filter Design (ADS export)</a></li>
            <li><a href="../docs/microwave/branchline_coupler.pdf" target="_blank" rel="noopener">Branchline Coupler</a></li>
            <li><a href="../docs/microwave/coupled_line_coupler_design.pdf" target="_blank" rel="noopener">Coupled-Line Coupler Design</a></li>
            <li><a href="../docs/microwave/coupled_line_tester.pdf" target="_blank" rel="noopener">Coupled-Line Tester</a></li>
          </ul>
        </div>

        <div class="artifactBox">
          <h3>EM + Layout (PDF)</h3>
          <ul>
            <li><a href="../docs/microwave/electromagnetic_analysis_and_revisions_report.pdf" target="_blank" rel="noopener">EM Analysis & Revisions</a></li>
            <li><a href="../docs/microwave/layout_report.pdf" target="_blank" rel="noopener">Layout Report</a></li>
            <li><a href="../docs/microwave/physical_design_and_measurements_report.pdf" target="_blank" rel="noopener">Physical Design & Measurements</a></li>
            <li><a href="../docs/microwave/system_analysis_report.pdf" target="_blank" rel="noopener">System Analysis</a></li>
            <li><a href="../docs/microwave/design_status_report.pdf" target="_blank" rel="noopener">Design Status</a></li>
          </ul>
        </div>

        <div class="artifactBox">
          <h3>Data + Downloads</h3>
          <ul>
            <li><a href="../data/microwave/q3.s2p" target="_blank" rel="noopener">Example S-parameter data (.s2p)</a></li>
            <li><a href="../downloads/microwave/gerber_files.zip" target="_blank" rel="noopener">Gerber files (ZIP)</a></li>
            <li><a href="../downloads/microwave/ads_workspace.zip" target="_blank" rel="noopener">ADS workspace (ZIP)</a></li>
            <li><a href="../docs/microwave/passive_lab.pdf" target="_blank" rel="noopener">Passive Lab Notes</a></li>
            <li><a href="../docs/microwave/report_1.pdf" target="_blank" rel="noopener">Report 1</a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Build Photos -->
    <div class="card" id="build-photos">
      <button id="buildToggle" class="toggleBtn" type="button" aria-expanded="true">
        Build Photos (organized albums)
      </button>

      <div id="buildPanel" style="margin-top:12px;">
        <p class="muted">Folders → subfolders → photo gallery. Click any photo to enlarge.</p>

        <div id="folderTree"></div>

        <div class="note">
          If images still show broken icons: open one image URL directly in your browser (example:
          <code>/VNA_Measurements/54B9A322-A0C7-4370-A60E-4AA6D2FB01BB.jpeg</code>). If it’s 404, the photo folders are not uploaded/committed to GitHub yet.
        </div>
      </div>
    </div>

    <!-- Lightbox modal -->
    <div id="lightbox" class="lightbox" aria-hidden="true">
      <div class="lightbox-inner">
        <div class="lightbox-top">
          <div id="lightboxCaption">Photo</div>
          <div style="display:flex; gap:10px; align-items:center;">
            <a id="lightboxOpen" href="#" target="_blank" rel="noopener">Open original</a>
            <button id="lightboxClose" class="lightbox-close" type="button">Close</button>
          </div>
        </div>
        <img id="lightboxImg" class="lightbox-img" src="" alt="Enlarged view" />
      </div>
    </div>

    <script>
      (() => {
        // This page is /projects/microwave.html, and your photo folders are at repo root.
        // So "../" correctly points from /projects/ back to repo root.
        const BASE = "../";

        // Folder structure you showed:
        // - VNA_Measurements (4 photos)
        // - PCB_Boards/02a..., 02b..., 02c...
        // - Fabrication_Process/03a..., 03b..., 03c...
        const tree = [
          {
            title: "VNA_Measurements",
            path: "VNA_Measurements",
            items: [
              { file: "7F101599-926C-4071-9A1A-2B16C39DD914.jpeg", caption: "S-parameters (VNA screen #1)" },
              { file: "54B9A322-A0C7-4370-A60E-4AA6D2FB01BB.jpeg", caption: "S-parameters (VNA screen #2)" },
              { file: "BAE9C9DF-0227-406C-8862-B5F3C6AAD27E.jpeg", caption: "S-parameters (VNA screen #3)" },
              { file: "C6882560-7ACD-4418-8104-4A162B1319CC.jpeg", caption: "S-parameters (VNA screen #4)" }
            ]
          },
          {
            title: "PCB_Boards",
            path: "PCB_Boards",
            children: [
              {
                title: "02a_Final_Working",
                path: "02a_Final_Working",
                items: [
                  { file: "11339D8C-2923-4039-A951-13769A667E05.jpeg", caption: "Final board (overview)" },
                  { file: "2B4C02B3-8314-4DB1-B746-27919C620702.jpeg", caption: "Final board (build angle)" },
                  { file: "3624E0B7-3AC4-410F-ACD3-F6C390C89146.jpeg", caption: "Final board (assembled pieces)" },
                  { file: "9116F78C-4A00-4654-8F29-562FF3402598.jpeg", caption: "Final board (close-up)" },
                  { file: "91A7658C-B16E-486B-B343-598AA711B201.jpeg", caption: "Final board (layout/features)" }
                ]
              },
              {
                title: "02b_Scrapped_Lessons_Learned",
                path: "02b_Scrapped_Lessons_Learned",
                items: [
                  { file: "0732928E-8999-4256-9E74-5D0416549D8C.jpeg", caption: "Scrapped board (issue #1)" },
                  { file: "B1940C04-F6D7-4834-BEB5-A273E9CA3898.jpeg", caption: "Scrapped board (issue #2)" },
                  { file: "B5F1669E-3D6E-434E-A7B9-98EEA7E8CFBF.jpeg", caption: "Scrapped board (issue #3)" }
                ]
              },
              {
                title: "02c_Materials_and_Parts",
                path: "02c_Materials_and_Parts",
                items: [
                  { file: "0783D3BD-E58D-4DCE-9ECD-B9999CB84458.jpeg", caption: "Materials & parts (connectors / copper-clad)" }
                ]
              }
            ]
          },
          {
            title: "Fabrication_Process",
            path: "Fabrication_Process",
            children: [
              {
                title: "03a_Milling_Machine",
                path: "03a_Milling_Machine",
                items: [
                  { file: "B7AEFEBE-38AD-4D96-8FFF-770D1B40804C.jpeg", caption: "Milling machine setup / workstation" },
                  { file: "C2302B3C-7AF1-4DAF-B365-40176B7DAF6B.jpeg", caption: "Milling process photo" }
                ]
              },
              {
                title: "03b_Software_Screencaps",
                path: "03b_Software_Screencaps",
                items: [
                  { file: "16238247-D7A3-4373-AD2A-A936E2B614E1.jpeg", caption: "CAM workflow (screen capture)" },
                  { file: "1CAA4085-B1F8-4D11-8AFF-72421536F29C.jpeg", caption: "Import/setup (screen capture)" },
                  { file: "3ECDBA2A-06B3-4399-8D73-DCDA447FBBFE.jpeg", caption: "Layer mapping (screen capture)" },
                  { file: "7512A7C7-C8D3-473D-BA83-4322758BE8F4.jpeg", caption: "Toolpath preview (screen capture)" },
                  { file: "7BFAD906-C82F-4CB8-9B16-10AB82D7D719.jpeg", caption: "Copper preview (screen capture)" },
                  { file: "EA498C68-0D11-4208-A011-5F587D00F028.jpeg", caption: "Alignment/selection (screen capture)" },
                  { file: "F6DE2258-C3AF-4C56-A742-3F0EEB37EFCC.jpeg", caption: "CAM view (screen capture)" }
                ]
              },
              {
                title: "03c_Post_Processing",
                path: "03c_Post_Processing",
                items: [
                  { file: "73A7C5D1-BDDE-42F8-A296-B62A17CCFA81.jpeg", caption: "Post-processing / cleanup result" }
                ]
              }
            ]
          }
        ];

        // Build Photos toggle (button)
        const toggleBtn = document.getElementById("buildToggle");
        const panel = document.getElementById("buildPanel");
        toggleBtn.addEventListener("click", () => {
          const open = toggleBtn.getAttribute("aria-expanded") === "true";
          toggleBtn.setAttribute("aria-expanded", String(!open));
          panel.style.display = open ? "none" : "block";
        });

        // Lightbox
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightboxImg");
        const lightboxCaption = document.getElementById("lightboxCaption");
        const lightboxOpen = document.getElementById("lightboxOpen");
        const lightboxClose = document.getElementById("lightboxClose");

        function openLightbox(src, caption) {
          lightboxImg.src = src;
          lightboxCaption.textContent = caption;
          lightboxOpen.href = src;
          lightbox.classList.add("open");
          lightbox.setAttribute("aria-hidden", "false");
        }
        function closeLightbox() {
          lightbox.classList.remove("open");
          lightbox.setAttribute("aria-hidden", "true");
          lightboxImg.src = "";
        }
        lightboxClose.addEventListener("click", closeLightbox);
        lightbox.addEventListener("click", (e) => { if (e.target === lightbox) closeLightbox(); });
        document.addEventListener("keydown", (e) => { if (e.key === "Escape") closeLightbox(); });

        // Render helpers
        const root = document.getElementById("folderTree");

        function makeGallery(items, fullPath) {
          const grid = document.createElement("div");
          grid.className = "galleryGrid";

          items.forEach(it => {
            const src = `${BASE}${fullPath}/${it.file}`;

            const fig = document.createElement("figure");
            const img = document.createElement("img");
            img.src = src;
            img.alt = it.caption;
            img.loading = "lazy";
            img.addEventListener("click", () => openLightbox(src, it.caption));

            // Helpful debug if a file path is wrong:
            img.onerror = () => {
              img.style.display = "none";
              const cap = fig.querySelector("figcaption");
              if (cap) cap.textContent = `Missing (404): ${fullPath}/${it.file}`;
            };

            const cap = document.createElement("figcaption");
            cap.textContent = it.caption;

            fig.appendChild(img);
            fig.appendChild(cap);
            grid.appendChild(fig);
          });

          return grid;
        }

        function renderNode(node, parentPath = "") {
          const fullPath = parentPath ? `${parentPath}/${node.path}` : node.path;

          const details = document.createElement("details");
          details.className = "folder";
          details.open = true;

          const summary = document.createElement("summary");
          summary.textContent = node.title;

          details.appendChild(summary);

          if (node.items && node.items.length) {
            details.appendChild(makeGallery(node.items, fullPath));
          }

          if (node.children && node.children.length) {
            node.children.forEach(child => details.appendChild(renderNode(child, fullPath)));
          }

          return details;
        }

        tree.forEach(n => root.appendChild(renderNode(n)));
      })();
    </script>
  </div>
</body>
</html>
